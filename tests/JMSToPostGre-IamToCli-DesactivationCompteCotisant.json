{
	"name": "JMSToPostGre-IamToCli-DesactivationCompteCotisant",
	"sleeptime": 6,
	"in": {
		"type": "JMS",
		"server": "",
		"operation": {
			"command": "VirtualTopic.TDATAPOSTGRE",
			"headers": [
				{ "name": "TABLE", "value": "IAM_ASSURE_ACCOUNT" }
			],
			"data": { 
				"id": "1", 
				"dateCreation": "2020-03-06T10:30:01.711", 
				"table": "IAM_ASSURE_ACCOUNT", 
				"operation": "UPDATE", 
				"tupleBefore": { 
					"matricule": "9999999", 
					"email": "dsi_production@cafat.nc", 
					"compteDesactive": "false" 
				}, 
				"tupleAfter": { 
					"matricule": "9999999", 
					"email": "dsi_production@cafat.nc", 
					"compteDesactive": "true" 
				} 
			}
		}
	},
	"out": {
		"type": "SQL",
		"server": "POSTGRE",
		"operation": {
			"command": "select statut_compte_assure from sgencli.cli_personne_physique where matricule = 9999999"
		},
		"expected": {
			"attribute": "statut_compte_assure",
			"value": "DESACTIVE"
		}
	},
	"rollback": {
		"type": "JMS",
		"server": "",
		"operation": {
			"command": "VirtualTopic.TDATAPOSTGRE",
			"headers": [
				{ "name": "TABLE", "value": "IAM_ASSURE_ACCOUNT" }
			],
			"data": { 
				"id": "1", 
				"dateCreation": "2020-03-06T10:30:01.711", 
				"table": "IAM_ASSURE_ACCOUNT", 
				"operation": "UPDATE", 
				"tupleBefore": { 
					"matricule": "9999999", 
					"email": "dsi_production@cafat.nc", 
					"compteDesactive": "true" 
				}, 
				"tupleAfter": { 
					"matricule": "9999999", 
					"email": "dsi_production@cafat.nc", 
					"compteDesactive": "false" 
				} 
			}
		}
	}
}