{
	"name": "JMSToPostGre-IamToDif-CompteCotisantDesactive",
	"sleeptime": 6,
	"in": {
		"type": "JMS",
		"server": "",
		"operation": {
			"command": "VirtualTopic.TDATAPOSTGRE",
			"data": { 
				"id": "1", 
				"dateCreation": "2019-12-03T13:55:01.711", 
				"table": "IAM_ASSURE_ACCOUNT", 
				"operation": "UPDATE", 
				"tupleBefore": { 
					"matricule": "540003", 
					"email": "gaetan.cesaro@gmail.com", 
					"compteDesactive": "true" 
				}, 
				"tupleAfter": { 
					"matricule": "540003", 
					"email": "gaetan.cesaro@gmail.com", 
					"compteDesactive": "false" 
				} 
			}
		}
	},
	"out": {
		"type": "SQL",
		"server": "POSTGRE",
		"operation": {
			"command": "select compte_actif from sgendif.dif_preferences_notifications pn where to_number(pn.numero_assure, '999999') = 540003"
		},
		"expected": {
			"attribute": "compte_actif",
			"value": "True"
		}
	},
	"rollback": {
		"type": "JMS",
		"server": "",
		"operation": {
			"command": "VirtualTopic.TDATAPOSTGRE",
			"data": {
				"id": "1",
				"dateCreation": "2019-12-03T13:55:01.711",
				"table": "IAM_ASSURE_ACCOUNT",
				"operation": "UPDATE",
				"tupleBefore": {
					"matricule": "540003",
					"email": "gaetan.cesaro@gmail.com", 
					"compteDesactive": "false"
				},
				"tupleAfter": {
					"matricule": "540003",
					"email": "gaetan.cesaro@gmail.com",
					"compteDesactive": "true"
				}
			}
		}
	}
}