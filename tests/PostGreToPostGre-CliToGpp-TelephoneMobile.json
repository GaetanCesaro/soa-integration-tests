{
	"name": "PostGreToPostGre-CliToGpp-TelephoneMobile",
	"sleeptime": 8,
	"in": {
		"type": "REST",
		"server": "SPRINGBOOT",
		"operation": {
			"command": "/s-gen-cli-{CLI_VERSION}/personne-physique/540003/contact",
			"data": {
				"adressePostale": {
					"type": "domicile",
					"ligneDesserte": {
						"type": "reference",
						"id": "6833"
					},
					"lignePays": {
						"code": "540"
					},
					"ligneComplement": "RES LES BAMBOUS APT 3",
					"ligneLieuDit": {
						"type": "libre",
						"libelle": "VAL PLAISANCE"
					},
					"ligneVoie": {
						"type": "reference",
						"numero": "15",
						"id": 502249
					}
				},
				"telephoneFixe": {
					"type": "fixe",
					"numero": "0"
				},
				"telephoneMobile": {
					"type": "mobile",
					"numero": "533922"
				},
				"typeContact": "ASSURE"
			}
		}
	},
	"out": {
		"type": "SQL",
		"server": "POSTGRE",
		"operation": {
			"command": "select 1 from sgengpp.gpp_telephone_mobile t, sgengpp.gpp_moyen_contact mc, sgengpp.gpp_personne_physique pp where t.id_fk_moyen_contact = mc.id and mc.date_fin_validite is null and mc.fk_personne_physique = pp.numero_interne and pp.matricule = 540003 and t.numero = '533922'"
		},
		"expected": {
			"attribute": "1",
			"value": "1"
		}
	},
	"rollback": {
		"type": "REST",
		"server": "SPRINGBOOT",
		"operation": {
			"command": "/s-gen-cli-{CLI_VERSION}/personne-physique/540003/contact",
			"data": {
				"adressePostale": {
					"type": "domicile",
					"ligneDesserte": {
						"type": "reference",
						"id": "6833"
					},
					"lignePays": {
						"code": "540"
					},
					"ligneComplement": "RES LES BAMBOUS APT 3",
					"ligneLieuDit": {
						"type": "libre",
						"libelle": "VAL PLAISANCE"
					},
					"ligneVoie": {
						"type": "reference",
						"numero": "15",
						"id": 502249
					}
				},
				"telephoneFixe": {
					"type": "fixe",
					"numero": "0"
				},
				"telephoneMobile": {
					"type": "mobile",
					"numero": "522933"
				},
				"typeContact": "ASSURE"
			}
		}
	}
}